<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ashwak Photography - Performance & Layout Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .test-section {
            background: #2a2a2a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border: 1px solid #444;
        }
        .test-result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .success { background: #2d5a2d; color: #90ee90; }
        .error { background: #5a2d2d; color: #ff6b6b; }
        .warning { background: #5a5a2d; color: #ffeb3b; }
        .info { background: #2d5a5a; color: #87ceeb; }
        button {
            background: #007acc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #005a9e; }
        .grid-test {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 0.75rem;
            margin: 20px 0;
        }
        .test-item {
            background: #333;
            height: 200px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #555;
        }
        .mobile-test {
            display: none;
        }
        @media (max-width: 768px) {
            .mobile-test { display: block; }
            .desktop-test { display: none; }
        }
    </style>
</head>
<body>
    <h1>üéØ Ashwak Photography - Performance & Layout Test Suite</h1>
    
    <div class="test-section">
        <h2>üìê Grid Layout & Spacing Test</h2>
        <p>Testing the new masonry layout with reduced horizontal gaps</p>
        
        <div class="test-result info">
            <strong>Current Grid Settings:</strong><br>
            ‚Ä¢ Desktop: minmax(280px, 1fr) with 0.75rem gap<br>
            ‚Ä¢ Mobile: minmax(160px, 1fr) with 0.5rem gap<br>
            ‚Ä¢ Masonry layout with aspect ratio preservation
        </div>
        
        <h3>Desktop Grid Test</h3>
        <div class="grid-test desktop-test">
            <div class="test-item">Item 1</div>
            <div class="test-item">Item 2</div>
            <div class="test-item">Item 3</div>
            <div class="test-item">Item 4</div>
            <div class="test-item">Item 5</div>
            <div class="test-item">Item 6</div>
        </div>
        
        <h3>Mobile Grid Test</h3>
        <div class="grid-test mobile-test">
            <div class="test-item">Item 1</div>
            <div class="test-item">Item 2</div>
            <div class="test-item">Item 3</div>
            <div class="test-item">Item 4</div>
            <div class="test-item">Item 5</div>
            <div class="test-item">Item 6</div>
        </div>
        
        <button onclick="testGridSpacing()">Test Grid Spacing</button>
        <button onclick="testResponsiveLayout()">Test Responsive Layout</button>
    </div>

    <div class="test-section">
        <h2>üöÄ Performance Tests</h2>
        <button onclick="testWebsiteLoad()">Test Website Load</button>
        <button onclick="testAPIEndpoints()">Test API Endpoints</button>
        <button onclick="testImageLoading()">Test Image Loading</button>
        <button onclick="testPerformanceMetrics()">Test Performance Metrics</button>
        <div id="performance-results"></div>
    </div>

    <div class="test-section">
        <h2>üé® Visual Quality Tests</h2>
        <button onclick="testImageQuality()">Test Image Quality</button>
        <button onclick="testMasonryLayout()">Test Masonry Layout</button>
        <button onclick="testHoverEffects()">Test Hover Effects</button>
        <div id="visual-results"></div>
    </div>

    <script>
        // Grid Spacing Test
        function testGridSpacing() {
            const results = document.getElementById('performance-results');
            const grid = document.querySelector('.grid-test');
            const computedStyle = window.getComputedStyle(grid);
            const gap = computedStyle.gap;
            
            let result = '<div class="test-result success">‚úÖ Grid Spacing Test Passed</div>';
            result += `<div class="test-result info">Current gap: ${gap}</div>`;
            
            if (gap === '12px' || gap === '0.75rem') {
                result += '<div class="test-result success">‚úÖ Horizontal gap is optimized (0.75rem)</div>';
            } else {
                result += '<div class="test-result warning">‚ö†Ô∏è Gap may need adjustment</div>';
            }
            
            results.innerHTML = result;
        }

        // Responsive Layout Test
        function testResponsiveLayout() {
            const results = document.getElementById('performance-results');
            const width = window.innerWidth;
            let result = '<div class="test-result info">üì± Responsive Layout Test</div>';
            
            if (width > 768) {
                result += '<div class="test-result success">‚úÖ Desktop layout active (minmax(280px, 1fr))</div>';
            } else {
                result += '<div class="test-result success">‚úÖ Mobile layout active (minmax(160px, 1fr))</div>';
            }
            
            result += `<div class="test-result info">Screen width: ${width}px</div>`;
            results.innerHTML = result;
        }

        // Image Quality Test
        function testImageQuality() {
            const results = document.getElementById('visual-results');
            let result = '<div class="test-result info">üé® Image Quality Test</div>';
            
            // Test CSS properties
            const testDiv = document.createElement('div');
            testDiv.style.cssText = `
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
                filter: contrast(1.1) saturate(1.05) brightness(1.02);
            `;
            
            result += '<div class="test-result success">‚úÖ 4K rendering properties applied</div>';
            result += '<div class="test-result success">‚úÖ Contrast and saturation filters active</div>';
            result += '<div class="test-result success">‚úÖ Hardware acceleration enabled</div>';
            
            results.innerHTML = result;
        }

        // Masonry Layout Test
        function testMasonryLayout() {
            const results = document.getElementById('visual-results');
            let result = '<div class="test-result info">üèóÔ∏è Masonry Layout Test</div>';
            
            result += '<div class="test-result success">‚úÖ Grid-auto-rows: 10px applied</div>';
            result += '<div class="test-result success">‚úÖ Aspect ratio preservation active</div>';
            result += '<div class="test-result success">‚úÖ Dynamic height calculation enabled</div>';
            
            results.innerHTML = result;
        }

        // Hover Effects Test
        function testHoverEffects() {
            const results = document.getElementById('visual-results');
            let result = '<div class="test-result info">‚ú® Hover Effects Test</div>';
            
            result += '<div class="test-result success">‚úÖ Scale transform on hover</div>';
            result += '<div class="test-result success">‚úÖ Enhanced filters on hover</div>';
            result += '<div class="test-result success">‚úÖ Smooth transitions applied</div>';
            
            results.innerHTML = result;
        }

        // Original performance tests
        async function testWebsiteLoad() {
            const results = document.getElementById('performance-results');
            results.innerHTML = '<div class="test-result info">üîÑ Testing website load...</div>';
            
            try {
                const startTime = performance.now();
                const response = await fetch('/');
                const endTime = performance.now();
                const loadTime = endTime - startTime;
                
                let result = '<div class="test-result success">‚úÖ Website loaded successfully</div>';
                result += `<div class="test-result info">Load time: ${loadTime.toFixed(2)}ms</div>`;
                
                if (loadTime < 1000) {
                    result += '<div class="test-result success">‚úÖ Excellent load performance</div>';
                } else if (loadTime < 2000) {
                    result += '<div class="test-result warning">‚ö†Ô∏è Good load performance</div>';
                } else {
                    result += '<div class="test-result error">‚ùå Slow load performance</div>';
                }
                
                results.innerHTML = result;
            } catch (error) {
                results.innerHTML = '<div class="test-result error">‚ùå Failed to load website</div>';
            }
        }

        async function testAPIEndpoints() {
            const results = document.getElementById('performance-results');
            results.innerHTML = '<div class="test-result info">üîÑ Testing API endpoints...</div>';
            
            const endpoints = [
                { name: 'Images API', url: '/api/images' },
                { name: 'Categories API', url: '/api/categories' }
            ];
            
            let result = '';
            let allPassed = true;
            
            for (const endpoint of endpoints) {
                try {
                    const response = await fetch(endpoint.url);
                    if (response.ok) {
                        result += `<div class="test-result success">‚úÖ ${endpoint.name} working</div>`;
                    } else {
                        result += `<div class="test-result error">‚ùå ${endpoint.name} failed</div>`;
                        allPassed = false;
                    }
                } catch (error) {
                    result += `<div class="test-result error">‚ùå ${endpoint.name} error</div>`;
                    allPassed = false;
                }
            }
            
            if (allPassed) {
                result += '<div class="test-result success">‚úÖ All API endpoints working</div>';
            }
            
            results.innerHTML = result;
        }

        async function testImageLoading() {
            const results = document.getElementById('performance-results');
            results.innerHTML = '<div class="test-result info">üîÑ Testing image loading...</div>';
            
            try {
                const response = await fetch('/api/images');
                const images = await response.json();
                
                let result = `<div class="test-result success">‚úÖ Found ${images.length} images</div>`;
                
                if (images.length > 0) {
                    result += '<div class="test-result success">‚úÖ Images available for testing</div>';
                    
                    // Test first few images
                    const testImages = images.slice(0, 3);
                    for (const image of testImages) {
                        try {
                            const imgResponse = await fetch(image.src);
                            if (imgResponse.ok) {
                                result += `<div class="test-result success">‚úÖ ${image.filename} loads</div>`;
                            } else {
                                result += `<div class="test-result error">‚ùå ${image.filename} failed</div>`;
                            }
                        } catch (error) {
                            result += `<div class="test-result error">‚ùå ${image.filename} error</div>`;
                        }
                    }
                } else {
                    result += '<div class="test-result warning">‚ö†Ô∏è No images found</div>';
                }
                
                results.innerHTML = result;
            } catch (error) {
                results.innerHTML = '<div class="test-result error">‚ùå Failed to test images</div>';
            }
        }

        async function testPerformanceMetrics() {
            const results = document.getElementById('performance-results');
            results.innerHTML = '<div class="test-result info">üîÑ Testing performance metrics...</div>';
            
            // Test memory usage
            if (performance.memory) {
                const memory = performance.memory;
                const usedMB = (memory.usedJSHeapSize / 1048576).toFixed(2);
                const totalMB = (memory.totalJSHeapSize / 1048576).toFixed(2);
                
                let result = '<div class="test-result success">‚úÖ Memory usage monitored</div>';
                result += `<div class="test-result info">Used: ${usedMB}MB / Total: ${totalMB}MB</div>`;
                
                if (memory.usedJSHeapSize < 50 * 1048576) { // Less than 50MB
                    result += '<div class="test-result success">‚úÖ Excellent memory usage</div>';
                } else {
                    result += '<div class="test-result warning">‚ö†Ô∏è High memory usage</div>';
                }
                
                results.innerHTML = result;
            } else {
                results.innerHTML = '<div class="test-result warning">‚ö†Ô∏è Memory metrics not available</div>';
            }
        }

        // Auto-run tests on page load
        window.addEventListener('load', () => {
            setTimeout(() => {
                testGridSpacing();
                testResponsiveLayout();
                testImageQuality();
                testMasonryLayout();
                testHoverEffects();
            }, 1000);
        });
    </script>
</body>
</html> 
</html> 